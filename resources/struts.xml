<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<constant name="struts.devMode" value="true" />
	<!-- <constant name="struts.action.extension" value="html" /> -->
	<constant name="struts.multipart.maxSize" value="10485760" />
	<constant name="struts.custom.i18n.resources" value="global" />
	<constant name="struts.multipart.saveDir"
		value="location of your choice" />
	<package name="login" extends="struts-default" namespace="/">

		<!-- <interceptors> <interceptor name="printMessageInterceptor" class="common.TestInterceptor"></interceptor> 
			<interceptor-stack name="testInterceptor"> <interceptor-ref name="printMessageInterceptor"></interceptor-ref> 
			</interceptor-stack> </interceptors> -->

		<action name="login" class="controller.LoginAction">
			<result name="success">WEB-INF/login.jsp</result>
		</action>

		<action name="process-login" class="controller.LoginAction"
			method="loginForm">
			<!-- <interceptor-ref name="params" /> <interceptor-ref name="timer" /> -->
			<!-- <result name="success">WEB-INF/success.jsp</result> -->
			<result name="success">WEB-INF/upload.jsp</result>
			<!-- <interceptor-ref name="testInterceptor"></interceptor-ref> -->
			<result name="input">WEB-INF/login.jsp</result>
			<result name="error">WEB-INF/login.jsp</result>
		</action>

		<action name="logout" class="controller.LoginAction"
			method="logout">
			<result name="success">WEB-INF/login.jsp</result>
		</action>

		<action name="uploadFile" class="controller.UploadAction"
			method="doUpload">
			<interceptor-ref name="fileUpload">
				<param name="allowedTypes">image/jpeg,image/png,image/gif</param>
				<param name="maximumSize">4194304</param>
			</interceptor-ref>
			<interceptor-ref name="params" />
			<interceptor-ref name="validation" />
			<interceptor-ref name="workflow" />

			<result name="success">WEB-INF/result.jsp</result>
			<result name="input">WEB-INF/upload.jsp</result>
		</action>

		<action name="emailer" class="controller.EmailAction"
			method="execute">
			<result name="success">WEB-INF/emailSuccess.jsp</result>
			<result name="error">WEB-INF/errorEmail.jsp</result>
		</action>
	</package>

	<package name="default" namespace="/" extends="struts-default">
		<action name="locale" class="controller.LocationAction">
			<result name="SUCCESS">WEB-INF/login.jsp</result>
		</action>
	</package>
</struts>